{"version":3,"sources":["App.js","index.js"],"names":["API_URL","Recipe","recipeId","useParams","useState","setAuthorId","author","setAuthor","name","setName","photos","setPhotos","quantities","setQuantities","units","setUnits","ingredients","setIngredients","description","setDescription","useEffect","a","fetch","request","ok","json","response","authorname","recipe","loadRecipe","className","to","map","p","i","src","alt","_","RecipeCard","id","Lister","recipes","r","AuthorLister","authorId","retete","filter","parseInt","App","allRecipes","setAllRecipes","filteredRecipes","setFilteredRecipes","search","setSearch","loadRecipes","type","data-bs-toggle","data-bs-target","activeClassName","placeholder","value","onChange","e","preventDefault","text","target","toLowerCase","includes","path","exact","slice","render","document","getElementById"],"mappings":"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","file":"static/js/main.5ec20cb7.chunk.js","sourcesContent":["import {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    NavLink,\n    Link,\n} from \"react-router-dom\";\nimport { useParams } from \"react-router\";\nimport { useState, useEffect } from \"react\";\n\nconst API_URL = \"http://127.0.0.1:5000/recipes/\";\n// const API_URL = \"https://codecoolfrontendapi.herokuapp.com/recipes\";\n\nconst Recipe = () => {\n    const { recipeId } = useParams();\n\n    const [, setAuthorId] = useState(null);\n    const [author, setAuthor] = useState(null);\n    const [name, setName] = useState(null);\n    const [photos, setPhotos] = useState(null);\n    const [quantities, setQuantities] = useState(null);\n    const [units, setUnits] = useState(null);\n    const [ingredients, setIngredients] = useState(null);\n    const [description, setDescription] = useState(null);\n\n    useEffect(() => {\n        const loadRecipe = async () => {\n            const request = await fetch(API_URL + recipeId);\n\n            if (request.ok) {\n                let response = await request.json();\n                response = response[0];\n\n                setAuthorId(response.author);\n                setAuthor(response.authorname);\n                setName(response.recipe);\n                setPhotos(response.photos);\n                setQuantities(response.quantities);\n                setUnits(response.units);\n                setIngredients(response.ingredients);\n                setDescription(response.description);\n            }\n        };\n        loadRecipe();\n    }, [recipeId]);\n\n    return (\n        <>\n            <h1>{name}</h1>\n            <p className=\"lead\">\n                A recipe by <Link to=\"/\">{author}</Link>\n            </p>\n            <h5>Ingredients</h5>\n            <div className=\"row my-4\">\n                {photos\n                    ? photos.map((p, i) => (\n                          <div className=\"col\" key={i}>\n                              <img src={p} alt=\"\" className=\"img-thumbnail\" />\n                          </div>\n                      ))\n                    : null}\n            </div>\n            <ul className=\"list-group mb-4\">\n                {quantities && units && ingredients\n                    ? quantities.map((_, i) => (\n                          <li className=\"list-group-item\" key={i}>\n                              <strong>\n                                  {quantities[i]} {units[i]}\n                              </strong>{\" \"}\n                              {ingredients[i]}\n                          </li>\n                      ))\n                    : null}\n            </ul>\n            <h5>Directions</h5>\n            <p>{description}</p>\n        </>\n    );\n};\n\nconst RecipeCard = ({ author, authorname, id, name }) => (\n    <div className=\"col p-3\">\n        <div className=\"card\">\n            <div className=\"card-body\">\n                <h5 className=\"card-title\">\n                    <Link to={\"/recipe/\" + id}>{name}</Link>\n                </h5>\n                <div className=\"card-text\">\n                    A recipe by{\" \"}\n                    <Link to={\"/author/\" + author}>{authorname}</Link>\n                </div>\n            </div>\n        </div>\n    </div>\n);\n\nconst Lister = ({ name, recipes }) => {\n    return (\n        <>\n            <h1>{name}'s latest recipes</h1>\n            <div className=\"row row-cols-1 row-cols-md-3\">\n                {recipes ? (\n                    recipes.map((r, i) => (\n                        <RecipeCard\n                            key={i}\n                            author={r.author}\n                            authorname={r.authorname}\n                            id={r.id}\n                            name={r.name}\n                        />\n                    ))\n                ) : (\n                    <div className=\"spinner-border text-info\">\n                        <span className=\"visually-hidden\">\n                            Loading recipes...\n                        </span>\n                    </div>\n                )}\n            </div>\n        </>\n    );\n};\n\nconst AuthorLister = ({ recipes }) => {\n    const { authorId } = useParams();\n\n    const retete = recipes.filter((r) => r.author === parseInt(authorId, 10));\n    const name = retete && retete[0] ? retete[0].authorname : \"Grandma\";\n\n    return <Lister name={name} recipes={retete} />;\n};\n\nconst App = () => {\n    const [allRecipes, setAllRecipes] = useState([]);\n    const [filteredRecipes, setFilteredRecipes] = useState([]);\n    const [search, setSearch] = useState(\"\");\n\n    useEffect(() => {\n        const loadRecipes = async () => {\n            const request = await fetch(API_URL);\n            if (request.ok) {\n                const response = await request.json();\n                setAllRecipes(response);\n                setFilteredRecipes(response);\n            }\n        };\n        loadRecipes();\n    }, []);\n\n    const handleSearch = (e) => {\n        e.preventDefault();\n        const text = e.target.value.toLowerCase();\n\n        if (text === \"\") {\n            setSearch(\"\");\n            setFilteredRecipes(allRecipes);\n        } else {\n            setFilteredRecipes(\n                allRecipes.filter((r) => r.name.toLowerCase().includes(text))\n            );\n            setSearch(text);\n        }\n    };\n\n    return (\n        <Router>\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary bg-gradient\">\n                <div className=\"container\">\n                    <NavLink className=\"navbar-brand\" to=\"/\">\n                        Grandma's Recipes\n                    </NavLink>\n                    <button\n                        className=\"navbar-toggler\"\n                        type=\"button\"\n                        data-bs-toggle=\"collapse\"\n                        data-bs-target=\"#navigation\"\n                    >\n                        <span className=\"navbar-toggler-icon\" />\n                    </button>\n                    <div id=\"navigation\" className=\"collapse navbar-collapse\">\n                        <ul className=\"navbar-nav me-auto\">\n                            <li className=\"nav-item\">\n                                <NavLink\n                                    className=\"nav-link\"\n                                    activeClassName=\"active\"\n                                    to=\"/\"\n                                >\n                                    Home\n                                </NavLink>\n                            </li>\n                            <li className=\"nav-item\">\n                                <NavLink\n                                    className=\"nav-link\"\n                                    activeClassName=\"active\"\n                                    to=\"/recipes/\"\n                                >\n                                    All recipes\n                                </NavLink>\n                            </li>\n                        </ul>\n                        <form className=\"d-flex\">\n                            <input\n                                type=\"search\"\n                                placeholder=\"Search\"\n                                className=\"form-control\"\n                                name=\"search\"\n                                value={search}\n                                onChange={handleSearch}\n                            />\n                        </form>\n                    </div>\n                </div>\n            </nav>\n\n            <div className=\"container my-4\">\n                <Switch>\n                    <Route path=\"/recipe/:recipeId/\">\n                        <Recipe />\n                    </Route>\n                    <Route path=\"/author/:authorId/\">\n                        <AuthorLister recipes={filteredRecipes} />\n                    </Route>\n                    <Route path=\"/recipes/\">\n                        <Lister name=\"Grandma\" recipes={filteredRecipes} />\n                    </Route>\n                    <Route exact path=\"/\">\n                        {allRecipes ? (\n                            <Lister\n                                name=\"Grandma\"\n                                recipes={\n                                    search\n                                        ? filteredRecipes\n                                        : allRecipes.slice(0, 6)\n                                }\n                            />\n                        ) : null}\n                    </Route>\n                </Switch>\n            </div>\n\n            <footer className=\"mt-auto bg-secondary text-light\">\n                <div className=\"container fs-6 p-3\">\n                    Grandma's Recipes &copy; 2021 CodeCool\n                </div>\n            </footer>\n        </Router>\n    );\n};\n\nexport default App;\n","import React, { StrictMode } from \"react\";\nimport { render } from \"react-dom\";\n\nimport \"./style/bootstrap.min.css\";\nimport \"./style/style.css\";\nimport App from \"./App\";\n\nrender(\n    <StrictMode>\n        <App />\n    </StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}